<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聊天文件</title>
    <link href="fileTes.min.css" rel="stylesheet">
</head>
<body>
<h3>文件上传</h3>
<input type="file" id="fileInput">
<button type="button" id="uploadBtn">确认上传</button>
<div id="progressDiv" style="display: none;">
    <progress id="progressBar" max="100" value="0">0%</progress>
    <span id="progressTxt">上传进度</span>kb
</div>
<hr>
<h3>文件下载</h3>
<ul id="downUl">
    <li><a href="#">下载xxx.jpg</a> (3994.23KB)
        <button type="button" onclick="showDialog()">二维码</button>
    </li>
    <li><a href="#">下载xxx.jpg</a> (3.90MB)
        <button type="button" onclick="showDialog()">二维码</button>
    </li>
    <li><a href="#">下载xxx.jpg</a> (399B)
        <button type="button" onclick="showDialog()">二维码</button>
    </li>
</ul>
<!--二维码模态框-->
<dialog class="myDialog" id="myDialog">
    <svg id="dialogCloseBtn" onclick="closeDialog()" xmlns="http://www.w3.org/2000/svg" width="36" height="36">
        <line x1="25" y1="11" x2="11" y2="25" stroke="#fff" stroke-width="4"/>
        <line x1="25" y1="25" x2="11" y2="11" stroke="#fff" stroke-width="4"/>
    </svg>
    <figure>
        <img id="qrCode" src="http://localhost:9527/public/avatar/touhou/touhou025.png" alt="qrCode">
        <figcaption>下载链接二维码</figcaption>
    </figure>
</dialog>
<!--文件提示-->
<footer>
    <h3>文件提示</h3>
    <ul>
        <li>电脑端可展示文件的下载二维码</li>
        <li>手机QQ接收文件：Android\data\com.tencent.mobileqq\Tencent\QQfile_recv</li>
    </ul>
</footer>
</body>
<script>
    // 添加修改模态框
    const dialog = document.getElementById("myDialog");
    const showDialog = () => {
        dialog.showModal();
    };
    const closeDialog = () => {
        dialog.close()
    };
</script>
</html>